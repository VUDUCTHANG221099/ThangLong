<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Ve chu T</title>

    <script id="vertex-shader" type="x-shader/x-vertex">
      #version 300 es

      in vec2 aPosition;

      uniform vec2 uResolution;
      uniform float uTheta;
      // 0: Dinh cua toa do
      // 1: Dinh cua chu T
      uniform int uDrawStatus;

      vec2 convertCoordinates(vec2 vPosition) {
          return vPosition / uResolution;
      }

      vec2 rotate() {

          float PI = 3.141592653589793;
          float radianValue = uTheta * PI / 180.0;

          // Ham transpose chuyen hang thanh cot, cot thanh hang (tao ma tran chuyen vi)
          mat3 mRotate = transpose(mat3(
              cos(radianValue), -sin(radianValue), 0.0,
              sin(radianValue), cos(radianValue), 0.0,
              0.0, 0.0, 1.0
          ));

          vec3 vPosition = vec3(aPosition, 1.0);

          vec3 webglPosition = mRotate * vPosition;

          return vec2(webglPosition[0], webglPosition[1]);
      }

      void main() {
          if (uDrawStatus == 0) {
              gl_Position = vec4(convertCoordinates(aPosition), 0.0, 1.0);
          } else {
              gl_Position = vec4(convertCoordinates(rotate()), 0.0, 1.0);
          }
      }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
      #version 300 es
      precision mediump float;

      out vec4 fColor;

      void main()
      {
          fColor = vec4(0.0, 0.0, 1.0, 1.0);
      }
    </script>

    <script
      type="text/javascript"
      src="../../Ho_Tro_Ky_Thuat/Common/initShaders.js"
    ></script>
    <script
      type="text/javascript"
      src="../../Ho_Tro_Ky_Thuat/Common/MVnew.js"
    ></script>
    <script type="text/javascript" src="tlu.js"></script>
  </head>

  <body>
    <button id="turn-right">Quay phải</button>
    <button id="turn-left">Quay trái</button>
    <select id="speed" size="1">
      <option value="1">Tốc độ quay Siêu Nhanh</option>
      <option value="2">Tốc độ quay Nhanh</option>
      <option value="3" selected>Tốc độ quay Vừa</option>
      <option value="4">Tốc độ quay Chậm</option>
      <option value="5">Tốc độ quay Siêu Chậm</option>
    </select>
    <hr />
    <canvas id="gl-canvas" width="640" height="640">
      Oops ... your browser doesn't support the HTML5 canvas element
    </canvas>
  </body>
</html>
